@import "mixins";
@import "fonts";
@import "keystrokes";

// debug mode
//.stage * { outline:1px solid pink; }

body { background-color:black; margin:0; }
.stage { 
    width:1024px; height:400px; margin:0 auto; overflow:hidden; position:relative; z-index:0;
    background:url(../images/bg.jpg) no-repeat; 
}
.commands { 
    margin-top:20px; padding:20px; width:1024px; margin:0 auto; background-color:#fff; 
    font-family:"Bangers", cursive, Arial; font-size:20px; 
    @include border-radius(0 0 10px 10px); 
    @include box-shadow(inset 0 5px 15px rgba(0,0,0,.4));
}
// element who's going to receive this class will be reversed / mirrored :)
.flip { @include transform(scaleX(-1)); }

// sprite dimensions
$spriteWidth:70px;
$spriteHeight:80px;

// ken character
.ken { 
    position:absolute; bottom:35px; margin-left:210px;
    width:$spriteWidth; height:$spriteHeight; 
    background-image:url(../images/ken.png); 
    
    // shadow
    &:before { 
        content:''; z-index:-1; position:absolute; bottom:-4px; left:20px; right:20px; 
        height:10px; background-color:rgba(0,0,0,.5); 
        @include border-radius(50%);
    }
}

/* ken's fireball */
@include anim($animName:fireball, $steps:2, $animNbr:5, $animParams:.15s infinite) {
    @extend .ken;
    position:absolute; left:100%; bottom:0px;
    margin-left:0; // default margin-left
    background-position:140px 320px; // default background position
    @include transition(margin 1s ease); 
    &.moving { margin-left:500px; } // triggering the movement with this class
}
/* ken's fireball impact explosion */
@include anim($animName:explode, $steps:4, $animNbr:6, $animParams:.5s 1);
/* stance */
@include anim($animName:stance, $steps:4, $animNbr:2, $animParams:.5s infinite);
/* hadoken - must be declared AFTER .stance */
@include anim($animName:hadoken, $steps:4, $animNbr:1, $animParams:.5s infinite);
/* punch */
@include anim($animName:punch, $steps:3, $animNbr:3, $animParams:.15s infinite);
/* walking */
@include anim($animName:walk, $steps:5, $animNbr:4, $animParams:.5s infinite);
/* kick */
@include anim($animName:kick, $steps:5, $animNbr:7, $animParams:.5s infinite);
/* reverse kick */
@include anim($animName:reversekick, $steps:5, $animNbr:8, $animParams:.5s infinite);
/* jump */
@include anim($animName:jump, $steps:7, $animNbr:9, $animParams:1s infinite) {
    @include transition(bottom .5s cubic-bezier(0.990, 0.005, 0.000, 0.420));
    bottom:150px;
    &.down { bottom:45px; }
}